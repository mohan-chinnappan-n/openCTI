
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Einstein Object Detection API</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous">
  </script>



      <!-- Imports Open CTI JavaScript library. Point to a valid Salesforce domain. -->
      <script src="https://mohansun-lx1-dev-ed.my.salesforce.com/support/api/40.0/interaction.js"></script>
      <script type="text/javascript">
             // Callback of API method: isInConsole
             var isInConsoleCallback = function (response) {
                  // Returns true if method is executed in Salesforce console, false otherwise.
                  console.log('response: ' + response);
                  if (response.result) {
                      var msg = 'Softphone is in Salesforce console.'
                      alert(msg);
                      console.log(msg);
                  }
                  else {
                      alert('Softphone is not in Salesforce console.');
                  }
              };
              // Invokes API method: isInConsole
              function isInConsole() {
                        console.log('in:isInConsole');
                       sforce.interaction.isInConsole(isInConsoleCallback);
              }
              // Callback of API method: getCallCenterSettings
              var getCallCenterSettingsCallback = function (response) {
                     // Result returns call center settings as a JSON string.
                     if (response.result) {
                            alert(response.result);
                     }
                     else {
                            alert('Error retrieving call center settings ' + response.error);
                     }
              };
              // Invokes API method: getCallCenterSettings
              function getCallCenterSettings() {
                       sforce.interaction.cti.getCallCenterSettings(getCallCenterSettingsCallback);
              }
              // Callback of API method: setSoftphoneHeight
              var setSoftphoneHeightCallback = function (response) {
                       // Returns true if SoftPhone height was set successfully, false otherwise.
                      if (response.result) {
                          alert('Setting softphone height to 300px was successful.');
                      }
                      else {
                         alert('Setting softphone height failed.');
                     }
               };
               // Invokes setSoftphoneHeight API method.
               function setSoftphoneHeight() {
                       sforce.interaction.cti.setSoftphoneHeight(300, setSoftphoneHeightCallback);
               }
               // Callback of API method: getPageInfo
               var getPageInfoCallback = function (response) {
                      if (response.result) {
                             alert(response.result);
                      }
                      else {
                             alert('Error occured while trying to get page info: ' + response.error);
                      }
               }
               // Invokes API method getPageInfo
               function getPageInfo() {
                       sforce.interaction.getPageInfo(getPageInfoCallback);
               }
      </script>
</head>
<body>
  <div class='container'>
      <h4>Blue Connect SoftPhone</h4>
      <button class='btn btn-primary' onclick="isInConsole();">isInConsole</button><br/>
      <button class='btn btn-info' onclick="getCallCenterSettings();">getCallCenterSettings</button><br/>
      <button class='btn btn-warning' onclick="setSoftphoneHeight();">setSoftphoneHeight(300)</button><br/>
      <button class='btn btn-danger' onclick="getPageInfo();">getPageInfo</button>
</body>
</html>
